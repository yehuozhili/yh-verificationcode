{"version":3,"sources":["components/letter.ts","components/index.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["allletters","randomNum","min","max","Math","floor","random","randomColor","toString","length","defaultGenerateOption","width","height","padding","lineNumber","dotNumber","bezierLineNumber","imgType","encoderOptions","generateBlob","code","option","mergeOption","canvas","document","createElement","fheight","fwidth","mheight","mwidth","ctx","getContext","console","error","Promise","resolve","len","i","text","randomSize","font","fillStyle","shadowBlur","shadowColor","deg","centerX","centerY","translate","rotate","PI","fillText","strokeStyle","beginPath","moveTo","lineTo","stroke","arc","fill","berzierLine","bezierCurveTo","res","toBlob","App","useState","url","state","setState","onClick","val","num","dict","xdict","f","randomLetter","then","str","window","URL","createObjectURL","pre","revokeObjectURL","src","alt","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"8NAAWA,EAAa,CACvB,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KC7DM,SAASC,EAAUC,EAAaC,GACtC,OAAOC,KAAKC,MAAMD,KAAKE,UAAYH,EAAMD,GAAOA,GAY1C,SAASK,IAaf,MAAO,KAXNH,KAAKC,MAAsB,IAAhBD,KAAKE,UAAgBE,SAAS,IAAIC,OAAS,EACnD,IAAML,KAAKC,MAAsB,IAAhBD,KAAKE,UAAgBE,SAAS,IAC/CJ,KAAKC,MAAsB,IAAhBD,KAAKE,UAAgBE,SAAS,MAE5CJ,KAAKC,MAAsB,IAAhBD,KAAKE,UAAgBE,SAAS,IAAIC,OAAS,EACnD,IAAML,KAAKC,MAAsB,IAAhBD,KAAKE,UAAgBE,SAAS,IAC/CJ,KAAKC,MAAsB,IAAhBD,KAAKE,UAAgBE,SAAS,MAE5CJ,KAAKC,MAAsB,IAAhBD,KAAKE,UAAgBE,SAAS,IAAIC,OAAS,EACnD,IAAML,KAAKC,MAAsB,IAAhBD,KAAKE,UAAgBE,SAAS,IAC/CJ,KAAKC,MAAsB,IAAhBD,KAAKE,UAAgBE,SAAS,KAuBvC,IAAME,EAA6C,CACzDC,MAAO,IACPC,OAAQ,GACRC,QAAS,GACTC,WAAY,EACZC,UAAW,GACXC,iBAAkB,EAClBC,QAAS,YACTC,eAAgB,GAGV,SAASC,EACfC,EACAC,GAEA,IAAMC,EAAgC,2BAClCZ,GACAW,GAEEE,EAASC,SAASC,cAAc,UAChCC,EAAUJ,EAAYV,OACtBe,EAASL,EAAYX,MACrBE,EAAUS,EAAYT,QACtBe,EAAUF,EAAUb,EACpBgB,EAASF,EAASd,EACxBU,EAAOX,OAASc,EAChBH,EAAOZ,MAAQgB,EACf,IAAMG,EAAMP,EAAOQ,WAAW,MAC9B,IAAKD,EAEJ,OADAE,QAAQC,MAAM,8BACPC,QAAQC,QAAQ,MAGxB,IADA,IAAMC,EAAMhB,EAAKX,OACR4B,EAAI,EAAGA,EAAID,EAAKC,IAAK,CAC7B,IAAMC,EAAOlB,EAAKiB,GACZE,EAAatC,EAAU2B,EAAU,EAAGA,GAC1CE,EAAIU,KAAOD,EAAa,aACxBT,EAAIW,UAAYlC,IAChBuB,EAAIY,WAAazC,GAAW,EAAG,GAC/B6B,EAAIa,YAAcpC,IAClB,IAAMqC,EAAM3C,GAAW,GAAI,IACrB4C,EAAUhC,EAAWwB,EAAIR,EAAUO,EACnCU,EAAUpB,EAAU,EAAIa,EAAa,EAC3CT,EAAIiB,UAAUF,EAASC,GACvBhB,EAAIkB,OAAQJ,EAAMxC,KAAK6C,GAAM,KAC7BnB,EAAIoB,SAASZ,EAAM,EAAG,EAAGT,EAASO,GAClCN,EAAIkB,QAASJ,EAAMxC,KAAK6C,GAAM,KAC9BnB,EAAIiB,WAAWF,GAAUC,GAG1B,IADA,IAAMhC,EAAaQ,EAAYR,WACtBuB,EAAI,EAAGA,EAAIvB,EAAYuB,IAC/BP,EAAIqB,YAAc5C,IAClBuB,EAAIsB,YACJtB,EAAIuB,OAAOpD,EAAU,EAAG0B,GAAS1B,EAAU,EAAGyB,IAC9CI,EAAIwB,OAAOrD,EAAU,EAAG0B,GAAS1B,EAAU,EAAGyB,IAC9CI,EAAIyB,SAGL,IADA,IAAMxC,EAAYO,EAAYP,UACrBsB,EAAI,EAAGA,EAAItB,EAAWsB,IAC9BP,EAAIW,UAAYlC,IAChBuB,EAAIsB,YAEJtB,EAAI0B,IAAIvD,EAAU,EAAG0B,GAAS1B,EAAU,EAAGyB,GAAU,EAAG,EAAG,EAAItB,KAAK6C,IACpEnB,EAAI2B,OAGL,IADA,IAAMC,EAAcpC,EAAYN,iBACvBqB,EAAI,EAAGA,EAAIqB,EAAarB,IAChCP,EAAIW,UAAYlC,IAChBuB,EAAIsB,YACJtB,EAAIuB,OAAOpD,EAAU,EAAG0B,GAAS1B,EAAU,EAAGyB,IAC9CI,EAAI6B,cACH1D,EAAU,EAAG0B,GACb1B,EAAU,EAAGyB,GACbzB,EAAU,EAAG0B,GACb1B,EAAU,EAAGyB,GACbzB,EAAU,EAAG0B,GACb1B,EAAU,EAAGyB,IAEdI,EAAIyB,SAEL,OAAO,IAAIrB,SAAQ,SAAC0B,GACnBrC,EAAOsC,OAAOD,EAAKtC,EAAYL,QAASK,EAAYJ,mBC5FvC4C,MAnCf,WAAgB,IAAD,EACYC,mBAAS,CAClCC,IAAK,GACL5C,KAAM,KAHO,mBACP6C,EADO,KACAC,EADA,KAKd,OACC,8BACC,gCACC,wBACCC,QAAS,WACR,IAAMC,EDTL,SAAsBC,EAAaC,GAGzC,IAFA,IAAMC,EAAQD,GAActE,EACxBwE,EAAI,GACCnC,EAAI,EAAGA,EAAIgC,EAAKhC,IAExBmC,GAAQD,EADAtE,EAAU,EAAGsE,EAAM9D,SAG5B,OAAO+D,ECEUC,CAAa,GACftD,EAAaiD,GACrBM,MAAK,SAACd,GACP,GAAIA,EAAK,CACR,IAAMe,EAAMC,OAAOC,IAAIC,gBAAgBlB,GACvCM,GAAS,SAACa,GAET,OADAH,OAAOC,IAAIG,gBAAgBD,EAAIf,KACxB,CACNA,IAAKW,EACLvD,KAAMgD,WAXZ,2BAoBe,KAAdH,EAAMD,KAAc,qBAAKiB,IAAKhB,EAAMD,IAAKkB,IAAI,aAC7CjB,EAAM7C,WClBI+D,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBX,MAAK,YAAkD,IAA/CY,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCHdO,IAASC,OACR,cAAC,IAAMC,WAAP,UACC,cAAC,EAAD,MAEDrE,SAASsE,eAAe,SAMzBX,M","file":"static/js/main.955f2aea.chunk.js","sourcesContent":["export let allletters = [\r\n\t\"a\",\r\n\t\"b\",\r\n\t\"c\",\r\n\t\"d\",\r\n\t\"e\",\r\n\t\"f\",\r\n\t\"g\",\r\n\t\"h\",\r\n\t\"i\",\r\n\t\"j\",\r\n\t\"k\",\r\n\t\"l\",\r\n\t\"m\",\r\n\t\"n\",\r\n\t\"o\",\r\n\t\"p\",\r\n\t\"q\",\r\n\t\"r\",\r\n\t\"s\",\r\n\t\"t\",\r\n\t\"u\",\r\n\t\"v\",\r\n\t\"w\",\r\n\t\"x\",\r\n\t\"y\",\r\n\t\"z\",\r\n\t\"A\",\r\n\t\"B\",\r\n\t\"C\",\r\n\t\"D\",\r\n\t\"E\",\r\n\t\"F\",\r\n\t\"G\",\r\n\t\"H\",\r\n\t\"I\",\r\n\t\"J\",\r\n\t\"K\",\r\n\t\"L\",\r\n\t\"M\",\r\n\t\"N\",\r\n\t\"O\",\r\n\t\"P\",\r\n\t\"Q\",\r\n\t\"R\",\r\n\t\"S\",\r\n\t\"T\",\r\n\t\"U\",\r\n\t\"V\",\r\n\t\"W\",\r\n\t\"X\",\r\n\t\"Y\",\r\n\t\"Z\",\r\n\t\"1\",\r\n\t\"2\",\r\n\t\"3\",\r\n\t\"4\",\r\n\t\"5\",\r\n\t\"6\",\r\n\t\"7\",\r\n\t\"8\",\r\n\t\"9\",\r\n\t\"0\",\r\n];\r\n","import { allletters } from \"./letter\";\r\nexport function randomNum(min: number, max: number) {\r\n\treturn Math.floor(Math.random() * (max - min) + min);\r\n}\r\nexport function randomLetter(num: number, dict?: string[]) {\r\n\tconst xdict = dict ? dict : allletters;\r\n\tlet f = \"\";\r\n\tfor (let i = 0; i < num; i++) {\r\n\t\tlet x = randomNum(0, xdict.length);\r\n\t\tf = f + xdict[x];\r\n\t}\r\n\treturn f;\r\n}\r\n\r\nexport function randomColor() {\r\n\tconst r =\r\n\t\tMath.floor(Math.random() * 256).toString(16).length < 2\r\n\t\t\t? \"0\" + Math.floor(Math.random() * 256).toString(16)\r\n\t\t\t: Math.floor(Math.random() * 256).toString(16);\r\n\tconst g =\r\n\t\tMath.floor(Math.random() * 256).toString(16).length < 2\r\n\t\t\t? \"0\" + Math.floor(Math.random() * 256).toString(16)\r\n\t\t\t: Math.floor(Math.random() * 256).toString(16);\r\n\tconst b =\r\n\t\tMath.floor(Math.random() * 256).toString(16).length < 2\r\n\t\t\t? \"0\" + Math.floor(Math.random() * 256).toString(16)\r\n\t\t\t: Math.floor(Math.random() * 256).toString(16);\r\n\treturn \"#\" + r + g + b;\r\n}\r\n\r\nexport interface IGenerateOptionType {\r\n\t//图片宽\r\n\twidth: number;\r\n\t//图片高\r\n\theight: number;\r\n\t//预留边\r\n\tpadding: number;\r\n\t//干扰直线条数\r\n\tlineNumber: number;\r\n\t//干扰点数量\r\n\tdotNumber: number;\r\n\t//干扰曲线数量\r\n\tbezierLineNumber: number;\r\n\t//生成格式\r\n\timgType: string;\r\n\t//图片品质\r\n\tencoderOptions: number;\r\n}\r\n\r\nexport const defaultGenerateOption: IGenerateOptionType = {\r\n\twidth: 120,\r\n\theight: 40,\r\n\tpadding: 10,\r\n\tlineNumber: 2,\r\n\tdotNumber: 80,\r\n\tbezierLineNumber: 2,\r\n\timgType: \"image/png\",\r\n\tencoderOptions: 1,\r\n};\r\n\r\nexport function generateBlob(\r\n\tcode: string,\r\n\toption?: Partial<IGenerateOptionType>\r\n): Promise<Blob | null> {\r\n\tconst mergeOption: IGenerateOptionType = {\r\n\t\t...defaultGenerateOption,\r\n\t\t...option,\r\n\t};\r\n\tconst canvas = document.createElement(\"canvas\");\r\n\tconst fheight = mergeOption.height;\r\n\tconst fwidth = mergeOption.width;\r\n\tconst padding = mergeOption.padding;\r\n\tconst mheight = fheight - padding;\r\n\tconst mwidth = fwidth - padding;\r\n\tcanvas.height = fheight;\r\n\tcanvas.width = fwidth;\r\n\tconst ctx = canvas.getContext(\"2d\");\r\n\tif (!ctx) {\r\n\t\tconsole.error(\"can not get canvas context\");\r\n\t\treturn Promise.resolve(null);\r\n\t}\r\n\tconst len = code.length;\r\n\tfor (let i = 0; i < len; i++) {\r\n\t\tconst text = code[i];\r\n\t\tconst randomSize = randomNum(mheight / 2, mheight);\r\n\t\tctx.font = randomSize + \"px Georgia\";\r\n\t\tctx.fillStyle = randomColor();\r\n\t\tctx.shadowBlur = randomNum(-3, 3);\r\n\t\tctx.shadowColor = randomColor();\r\n\t\tconst deg = randomNum(-30, 30);\r\n\t\tconst centerX = padding + (i * mwidth) / len;\r\n\t\tconst centerY = fheight / 2 + randomSize / 2;\r\n\t\tctx.translate(centerX, centerY);\r\n\t\tctx.rotate((deg * Math.PI) / 180);\r\n\t\tctx.fillText(text, 0, 0, mwidth / len);\r\n\t\tctx.rotate((-deg * Math.PI) / 180);\r\n\t\tctx.translate(-centerX, -centerY);\r\n\t}\r\n\tconst lineNumber = mergeOption.lineNumber;\r\n\tfor (let i = 0; i < lineNumber; i++) {\r\n\t\tctx.strokeStyle = randomColor();\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(randomNum(0, fwidth), randomNum(0, fheight));\r\n\t\tctx.lineTo(randomNum(0, fwidth), randomNum(0, fheight));\r\n\t\tctx.stroke();\r\n\t}\r\n\tconst dotNumber = mergeOption.dotNumber;\r\n\tfor (let i = 0; i < dotNumber; i++) {\r\n\t\tctx.fillStyle = randomColor();\r\n\t\tctx.beginPath();\r\n\t\t//x: number, y: number, radius: number, startAngle: number, endAngle: number, anticlockwise?: boolean | undefined\r\n\t\tctx.arc(randomNum(0, fwidth), randomNum(0, fheight), 1, 0, 2 * Math.PI); //半径1的圆\r\n\t\tctx.fill();\r\n\t}\r\n\tconst berzierLine = mergeOption.bezierLineNumber;\r\n\tfor (let i = 0; i < berzierLine; i++) {\r\n\t\tctx.fillStyle = randomColor();\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(randomNum(0, fwidth), randomNum(0, fheight));\r\n\t\tctx.bezierCurveTo(\r\n\t\t\trandomNum(0, fwidth),\r\n\t\t\trandomNum(0, fheight),\r\n\t\t\trandomNum(0, fwidth),\r\n\t\t\trandomNum(0, fheight),\r\n\t\t\trandomNum(0, fwidth),\r\n\t\t\trandomNum(0, fheight)\r\n\t\t);\r\n\t\tctx.stroke();\r\n\t}\r\n\treturn new Promise((res) => {\r\n\t\tcanvas.toBlob(res, mergeOption.imgType, mergeOption.encoderOptions);\r\n\t});\r\n}\r\nexport default generateBlob;\r\n","import React, { useState } from \"react\";\nimport { randomLetter, generateBlob } from \"./components\";\n\nfunction App() {\n\tconst [state, setState] = useState({\n\t\turl: \"\",\n\t\tcode: \"\",\n\t});\n\treturn (\n\t\t<div>\n\t\t\t<div>\n\t\t\t\t<button\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tconst val = randomLetter(5);\n\t\t\t\t\t\tconst p = generateBlob(val);\n\t\t\t\t\t\tp.then((res) => {\n\t\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\t\tconst str = window.URL.createObjectURL(res);\n\t\t\t\t\t\t\t\tsetState((pre) => {\n\t\t\t\t\t\t\t\t\twindow.URL.revokeObjectURL(pre.url);\n\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\turl: str,\n\t\t\t\t\t\t\t\t\t\tcode: val,\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tgenerate code\n\t\t\t\t</button>\n\t\t\t\t{state.url !== \"\" && <img src={state.url} alt=\"valicode\"></img>}\n\t\t\t\t{state.code}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}